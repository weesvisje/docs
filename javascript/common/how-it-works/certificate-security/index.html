<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D8PMW3CCL2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D8PMW3CCL2",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Ditto" href="/opensearch.xml">
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PV7QFWF",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><title data-react-helmet="true">Certificate Based Security | Ditto</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.ditto.live/javascript/common/how-it-works/certificate-security"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-javascript-current"><meta data-react-helmet="true" property="og:title" content="Certificate Based Security | Ditto"><meta data-react-helmet="true" name="description" content="This section contains an advanced discussion of Ditto&#x27;s underlying certificate, identity, and"><meta data-react-helmet="true" property="og:description" content="This section contains an advanced discussion of Ditto&#x27;s underlying certificate, identity, and"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.ditto.live/javascript/common/how-it-works/certificate-security"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/javascript/common/how-it-works/certificate-security" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/javascript/common/how-it-works/certificate-security" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://F25GUUSPFJ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1d3676ae.css">
<link rel="preload" href="/assets/js/runtime~main.d7ddebc6.js" as="script">
<link rel="preload" href="/assets/js/main.4e4a086d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="25" height="25"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><a href="https://ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.png" alt="Ditto Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.png" alt="Ditto Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Ditto</b></a><a class="navbar__item navbar__link" href="/">Documentation</a><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Example Apps</span></a><a href="https://github.com/getditto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Open Source</span></a><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Roadmap</span></a><a class="navbar__item navbar__link" href="/changelog">Changelog</a><a class="navbar__item navbar__link" href="/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Login</span></a><div class="searchBox_xXbB"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_3jCp"><nav class="overflow-y-auto menu thin-scrollbar overflow-x-visible menu_1DcY menuWithAnnouncementBar_3IKd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/documents">Documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/update">Update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/upsert">Upsert</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/querying">Querying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/remove">Remove</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/evict">Evict</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/syncing-data">Syncing Data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Data Model</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mesh Network</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integration Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">How it Works</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/how-it-works/crdt">Conflict-Free Replicated Data Types (CRDTs)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/how-it-works/mesh-network">Mesh Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/javascript/common/how-it-works/certificate-security">Certificate Based Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/how-it-works/big-peer">Big Peer</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a href="https://software.ditto.live/js/Ditto/2.0.0-alpha1/api-reference/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/common/supported-platforms">Supported Platforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/common/v2">2.0 Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/common/troubleshooting">Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article class="prose max-w-none"><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_Ftrd"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Certificate Based Security</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This section contains an advanced discussion of Ditto&#x27;s underlying certificate, identity, and
encryption implementation. Most readers can skip this section.  However, if you are deploying an enterprise
on-premises deployment of Ditto, you may be required to reference the following
material.  </p></div></div><p>All communications are consistently protected by modern and robust encryption
for all of Ditto&#x27;s communication methods. Cryptographically-signed business
rules ensure users can only sync data that they are permitted to access. The app
developer is in complete control of the keys, certificates, and rules.</p><p>The Ditto Big Peer provisions signed x509 certificate. This certificate may then
be presented to other Ditto peers to mutually establish trust and create
encrypted communications channels. </p><p>The following details information about the certificates used to encrypt the
communication channels.</p><table><tr><th>Capability</th><th>Type</th></tr><tr><td>Encryption</td><td>TLS 1.3</td></tr><tr><td>Authentication</td><td>EC keypairs with signed certificates</td></tr><tr><td>Trust infrastructure</td><td>X.509 with a developer-controlled certificate authority</td></tr><tr><td>Access Rules</td><td>Query patterns on Document _id&#x27;s describing read and or write access</td></tr></table><h2 class="anchor anchorWithStickyNavbar_31ik" id="identities">Identities<a aria-hidden="true" class="hash-link" href="#identities" title="Direct link to heading">​</a></h2><p>An identity is a bundle of device and app-specific information:</p><ul><li>Site ID - A number unique to this device.</li><li>App Name - A name identifying the application. This avoids different Ditto-enabled apps trying to sync with each other. These are unique identifiers, for example, <code>5322afcd-5a70-43a3-bc2d-85d98ccf5ac0</code></li><li>Access Rules - Define which documents this device is allowed to read or write during sync.</li><li>Private Key - A secret for authenticating as this identity.</li><li>Identity Certificate - A certificate verifying the particulars of this device, signed by the CA.</li><li>CA Certificate - Used to verify certificates presented by other devices with the same app.</li></ul><table><tr><th></th><th>Production</th><th>Development</th></tr><tr><td>Site ID</td><td>Allocated by central authority</td><td>Defaults to a random number; can be customized</td></tr><tr><td>App ID</td><td>Set by central authority</td><td>For example, &quot;5322afcd-5a70-43a3-bc2d-85d98ccf5ac0&quot;</td></tr><tr><td>Access Rules</td><td>Set by central authority</td><td>All devices may read/write all documents</td></tr><tr><td>Private Key</td><td>Either generated on device, or distributed by central authority</td><td>Hard-coded and shared by all devices</td></tr><tr><td>Identity Certificate</td><td>Unique and signed by central authority; contains this device&#x27;s public key</td><td>Hard-coded and shared by all devices</td></tr><tr><td>CA Certificate</td><td>Shared by all users of the same app</td><td>Hard-coded and shared by all devices</td></tr><table></table></table><h2 class="anchor anchorWithStickyNavbar_31ik" id="certificate">Certificate<a aria-hidden="true" class="hash-link" href="#certificate" title="Direct link to heading">​</a></h2><p>Ditto identities and public keys are distributed in the standard X.509
certificate format. By default, these are distributed through the Ditto Portal.
They do not directly contain potentially sensitive data such as access rules,
but these can be defined by an authentication webhook with the
<a href="/javascript/common/security/designing-permissions">OnlineWithAuthentication identity</a>, or by the
developer through the <code>Manual</code> identity.</p><p>When you are ready to use production identities, feel free to contact
us through the Ditto Portal and we will help you set up the right CA
tooling for your use case - or provide specifications so you can build your own.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="app-level-security">App-level Security<a aria-hidden="true" class="hash-link" href="#app-level-security" title="Direct link to heading">​</a></h2><p>The access rules contained in the identity are rigid, signed by the central
certificate authority, and enforced by all participating devices. This offers
the highest level of security. If a person is not allowed to access particular
data, it will never be synced to their device.</p><p>For apps with weaker security requirements, a developer may choose to relax the
access rules for Ditto, then restrict access in their application code.</p><p>One advantage is that the developer has more flexibility to change the access
rules dynamically, since they are not encoded in signed certificates. Another
advantage is that all devices in the mesh can participate in syncing the data,
which may help it propagate faster. If certain data is only accessible to a few
privileged devices which are not often in range of each other, it will take
longer for them to sync.</p><p>The disadvantage is that an unprivileged user does have a device containing
privileged data. A technically savvy user or phone thief may be able to gain
access to not only their regular data, but also the more privileged data that
they were never intended to be able to view.</p><p>Therefore relaxed access rules - app-level security - are only suitable for
environments where there is a degree of trust that the devices won&#x27;t end up
unlocked in the wrong hands.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/getditto/docs/edit/main/docs/common/how-it-works/certificate-security.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/common/how-it-works/mesh-network"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Mesh Network</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/common/how-it-works/big-peer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Big Peer<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#identities" class="table-of-contents__link toc-highlight">Identities</a></li><li><a href="#certificate" class="table-of-contents__link toc-highlight">Certificate</a></li><li><a href="#app-level-security" class="table-of-contents__link toc-highlight">App-level Security</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a href="https://www.ditto.live/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Main Website</span></a></li><li class="footer__item"><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Example Apps</span></a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li><li class="footer__item"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Login</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/getditto/docs/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions</span></a></li><li class="footer__item"><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Roadmap</span></a></li><li class="footer__item"><a href="https://github.com/getditto/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Source</span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ditto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow</span></a></li><li class="footer__item"><a href="https://twitter.com/dittolive" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 DittoLive, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d7ddebc6.js"></script>
<script src="/assets/js/main.4e4a086d.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PV7QFWF" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>